<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Formul√°rio recebido!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bibliotecas para gerar PDF -->
  <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
  <script src="https://unpkg.com/jspdf-autotable@latest/dist/jspdf.plugin.autotable.js"></script>
  <style>
    body { font-family: Arial, sans-serif; background: #f3f8fc; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
    .container { text-align: center; background: #fff; padding: 30px; border-radius: 15px; max-width: 500px; box-shadow: 0 6px 18px rgba(0,0,0,0.1); }
    h1 { color: #2a6db0; font-size: 1.8em; margin-bottom: 15px; }
    p { font-size: 1.1em; color: #333; margin: 10px 0; }
    button, a { display: inline-block; margin-top: 20px; padding: 12px 25px; color: white; text-decoration: none; border-radius: 30px; transition: background 0.3s; border: none; font-size: 1.1em; cursor: pointer; }
    .btn-pdf { background: #2a6db0; }
    .btn-pdf:hover { background: #1a4e80; }
    .btn-pdf:disabled { background: #969ca1; cursor: not-allowed; }
    .btn-finalizar { background: #6c757d; }
    .btn-finalizar:hover { background: #5a6268; }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚úÖ Formul√°rio enviado!</h1>
    <p>Obrigado! Seus dados foram recebidos.</p>
    <p>Agora voc√™ pode baixar o <strong>preparo para a Colonoscopia</strong> e as informa√ß√µes de pagamento.</p>
    
    <button class="btn-pdf" id="btn-pdf-colono" onclick="gerarPDF()">üìÑ Baixar Preparo em PDF</button>

    <hr style="margin-top: 30px; border: 0; border-top: 1px solid #eee;">

    <a href="https://www.hospitalstjames.com.br/" class="btn-finalizar">Finalizar</a>
  </div>
  <script>
    function gerarPDF() {
      const btn = document.getElementById('btn-pdf-colono');
      btn.disabled = true;
      btn.innerText = 'Gerando PDF...';

      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({ unit: 'mm', format: 'a4' });
      
      let y = 15;
      const margin = 15;
      const maxWidth = doc.internal.pageSize.width - margin * 2;

      function checkPageBreak(currentY, neededHeight = 20) { if (currentY + neededHeight > doc.internal.pageSize.height - margin) { doc.addPage(); y = margin; return margin; } return currentY; }
      function addHeader() { doc.setFontSize(18); doc.setTextColor(42, 109, 176); doc.text("Preparo e Custos - Colonoscopia", doc.internal.pageSize.width / 2, y, { align: 'center' }); y += 10; doc.setDrawColor(200); doc.line(margin, y, doc.internal.pageSize.width - margin, y); y += 15; }
      function addTitle(title, size = 14) { y = checkPageBreak(y); doc.setFontSize(size); doc.setTextColor(42, 109, 176); doc.text(title, margin, y); y += (size / 2); }
      function addSubTitle(title) { y = checkPageBreak(y); doc.setFontSize(11); doc.setTextColor(51, 51, 51); doc.setFont('helvetica', 'bold'); doc.text(title, margin, y); y += 6; }
      function addText(text) { y = checkPageBreak(y); doc.setFontSize(10); doc.setTextColor(51, 51, 51); doc.setFont('helvetica', 'normal'); const lines = doc.splitTextToSize(text, maxWidth); if (y + (lines.length * 5) > doc.internal.pageSize.height - margin) { doc.addPage(); y = margin; } doc.text(lines, margin, y); y += lines.length * 5 + 4; }
      function addListItem(text) { y = checkPageBreak(y, 10); doc.setFontSize(10); doc.setTextColor(51, 51, 51); doc.setFont('helvetica', 'normal'); const lines = doc.splitTextToSize(text, maxWidth - 5); doc.text("-", margin, y); doc.text(lines, margin + 5, y); y += lines.length * 5 + 2; }
      
      addHeader();

      // PAGE 1: INFORMATIVO
      addTitle("Informativo do Procedimento de Colonoscopia");
      addSubTitle("O que √© Colonoscopia?");
      addText("Colonoscopia √© um exame realizado por m√©dicos especialistas, para diagnosticar e tratar doen√ßas do c√≥lon (intestino grosso). Dura cerca de 30 minutos, sendo realizado sob seda√ß√£o. O exame √© r√°pido, tranquilo e indolor. √â um exame extremamente preciso e muito importante para diversos diagn√≥sticos e tamb√©m para rastreio de c√¢ncer de intestino.");
      addSubTitle("Como √© feito o exame de Colonoscopia?");
      addText("Para permitir a visualiza√ß√£o do intestino √© necess√°rio remover completamente as fezes por meio do preparo intestinal, que tem in√≠cio nos dias que antecedem o exame. O Sr.(a) ser√° encaminhado para sala de exames por um profissional da equipe de enfermagem e ser√° submetido a uma r√°pida entrevista que permite conhecer melhor sua condi√ß√£o de sa√∫de e planejar o procedimento de seda√ß√£o a ser utilizado. Ap√≥s a administra√ß√£o da seda√ß√£o, o m√©dico endoscopista introduz o endosc√≥pio atrav√©s do canal anal e o conduz suavemente atrav√©s do intestino grosso, realizando um exame cuidadoso sem que o paciente sinta desconforto ou dor. A dura√ß√£o aproximada do procedimento √© de 30 minutos. O tempo de perman√™ncia no setor √© de aproximadamente 1 hora.");
      addSubTitle("O que acontece ap√≥s a Colonoscopia?");
      addText("Terminado o exame, o paciente √© encaminhado para a sala de recupera√ß√£o p√≥s-anest√©sica onde √© monitorado at√© que esteja bem acordado e tenha condi√ß√µes de alta. Ap√≥s o exame normalmente o paciente n√£o apresenta sintomas, sendo raras as manifesta√ß√µes de n√°useas, desconforto abdominal e c√≥lica, sintomas que normalmente melhoram ap√≥s a elimina√ß√£o do ar insuflado no intestino durante o exame. A equipe da endoscopia ir√° inform√°-lo(la) caso exista algum cuidado especial n√£o previsto antes do exame.");
      addSubTitle("Quais as poss√≠veis complica√ß√µes com a realiza√ß√£o da Colonoscopia?");
      addText("Apesar de todos os cuidados tomados, algumas complica√ß√µes leves podem ocorrer. A incid√™ncia geral de complica√ß√µes em Colonoscopia √© rara, em torno de 1:1000 exames. Complica√ß√µes maiores s√£o extremamente raras e incluem rea√ß√µes medicamentosas, complica√ß√µes card√≠acas e pulmonares. A perfura√ß√£o intestinal pode ocorrer em 0,1% das Colonoscopias diagn√≥sticas e 0,3% das Colonoscopias com procedimentos terap√™uticos. Sangramentos em pequena quantidade podem ocorrer (0,06%) e s√£o controlados durante a Colonoscopia.");
      addSubTitle("O que √© preparo intestinal?");
      addText("O preparo intestinal consta de v√°rios procedimentos na v√©spera e no dia do exame para a limpeza completa do intestino grosso.");

      doc.addPage();
      y = margin;

      // PAGE 2: PREPARO
      addTitle("Como √© feito o preparo intestinal?");
      addSubTitle("2 dias antes do exame");
      addText("Dieta sem res√≠duos, deve ser feita da seguinte maneira:");
      addListItem("Caf√© da manh√£: ch√°, suco, √°gua e Gatorade.");
      addListItem("Almo√ßo e jantar: macarr√£o miojo, caldos coados, sopa l√≠quida, ovos, pur√™ de batata e gelatina.");
      doc.setFont('helvetica', 'bold'); addText("Aten√ß√£o - Alimentos proibidos:");
      addListItem("Alimentos com res√≠duos como: verduras frescas ou cozidas, frutas (inclusive casca e semente), alimentos s√≥lidos (arroz, feij√£o, carne, etc), algas ou cogumelos.");
      addListItem("L√≠quidos: sucos naturais ou artificiais na cor vermelha, leite, bebida alco√≥lica, caf√©.");
      y += 5;
      
      addSubTitle("1 dia antes do exame");
      addListItem("Caf√© da manh√£: ch√°, suco, √°gua de coco, Gatorade.");
      addListItem("Almo√ßo e jantar: macarr√£o miojo, caldos coados, sopa l√≠quida, ovos, pur√™ de batata e gelatina.");
      addListItem("Tomar dois comprimidos de Dulcolax as 14:00 horas e outros dois comprimidos as 20:00 horas. O Dulcolax pode causar c√≥lica intestinal e, caso n√£o existam contra-indica√ß√µes (como alergia), recomenda-se tomar Buscopam (1 comprimido ou 30 gotas).");
      addListItem("O jantar dever√° ser realizado as 19:00 horas, ap√≥s este hor√°rio s√≥ √© permitida a ingest√£o de l√≠quidos claros.");
      addListItem("Tome seus medicamentos normalmente.");
      addListItem("Tomar bastante l√≠quido neste dia (√°gua, ch√°, suco de frutas coado, √°gua de coco).");
      y += 5;

      addSubTitle("Dia do exame");
      addListItem("Cinco horas antes do exame, iniciar o preparo com Manitol. Misture 2 frascos de Manitol(250 ml), um frasco de Simeticona (Luftal) e 500ml de √°gua. A solu√ß√£o ter√° 1 litro e ser√° mais f√°cil de tomar se estiver gelada e se acrescentar suco de um lim√£o.");
      addListItem("Tomar um copo de 250 ml da solu√ß√£o a cada 15 minutos, terminando dentro do intervalo de uma hora. Se sentir n√°usea ou v√¥mitos durante o preparo recomenda-se tomar Plasil (1 comprimido ou 30 gotas).");
      addListItem("Nesse intervalo, as evacua√ß√µes ser√£o l√≠quidas na cor amarelada e sem res√≠duos. Ap√≥s t√©rmino da mistura, jejum absoluto de quatro horas, antes do exame.");
      
      doc.addPage();
      y = margin;

      // PAGE 3: INFORMA√á√ïES FINAIS E CUSTOS
      addTitle("Informa√ß√µes Importantes");
      addListItem("Os medicamentos para DIABETES e INSULINA n√£o devem ser tomados no dia do exame, devido ao risco de hipoglicemia.");
      addListItem("Os rem√©dios di√°rios para press√£o alta e convuls√£o devem ser tomados normalmente.");
      addListItem("No dia do exame n√£o use esmalte nem acess√≥rios, como j√≥ias e bijuterias.");
      addListItem("Use roupas confort√°veis. Trazer uma troca de roupa.");
      addListItem("Traga os exames realizados anteriormente (colonoscopia, endoscopia, tomografia, ultra-som).");
      addText("Todo paciente dever√° estar acompanhado de uma pessoa maior de 18 anos e n√£o pode dirigir ap√≥s o exame. Respeitando crit√©rios de seguran√ßa e as normas da legisla√ß√£o Brasileira (SS-169/96, CFM 1.409/94 e SS-SP 2/2006) √© obrigat√≥ria a presen√ßa de um acompanhante at√© o retorno do paciente √† sua resid√™ncia. √â proibido dirigir e tomar decis√µes importantes nas 12 horas seguintes ao exame, pois, devido aos medicamentos usados, o paciente pode se manter sonolento e com retardo dos reflexos.");
      
      y += 5; doc.setDrawColor(200); doc.line(margin, y, doc.internal.pageSize.width - margin, y); y += 10;
      
      addTitle("Custos Adicionais e Pagamento");
      addText("Aten√ß√£o: Pacientes Particulares ou com Conv√™nios sem Cobertura para itens adicionais.");
      addText("O pagamento do valor base do exame (Colonoscopia: R$ 900,00) √© realizado antes do procedimento. Custos adicionais, se necess√°rios, s√£o apurados e pagos ap√≥s o exame.");
      addText("Como o paciente sai do exame sob efeito de seda√ß√£o, √© fundamental que o acompanhante esteja ciente e preparado para realizar o pagamento de eventuais valores extras.");
      
      y += 2;
      doc.autoTable({
        startY: y,
        head: [['Servi√ßo Adicional', 'Valor (R$)', 'Observa√ß√£o']],
        body: [['Coleta de Bi√≥psia', '216,00', '-'],['An√°lise Anatomopatol√≥gica', '118,00', 'Por amostra'],['Polipectomia (P√≥lipo de Colon)', '800,00', 'Caso tenha'],['Hemostasia', '1.000,00', 'Caso necess√°rio'],['Hemoclipes', '678,00', 'Caso necess√°rio'],['Mucosectomia', '1.000,00', 'Caso tenha'],['Interna√ß√£o (12h)', '350,00', 'Se for necess√°rio']],
        theme: 'grid', headStyles: { fillColor: [240, 244, 247], textColor: 51 }, styles: { fontSize: 9, cellPadding: 2 }
      });
      y = doc.lastAutoTable.finalY + 10;

      addSubTitle("Formas de Pagamento:");
      addText("Dinheiro, PIX, D√©bito e Cr√©dito. O parcelamento pode ser negociado a depender do valor total.");

      doc.save('preparo-colonoscopia.pdf');
      btn.disabled = false;
      btn.innerText = 'üìÑ Baixar Preparo em PDF';
    }
  </script>
</body>
</html>